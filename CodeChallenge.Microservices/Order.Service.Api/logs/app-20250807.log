2025-08-07 18:31:09.098 +02:00 [INF] Resetting the database...
2025-08-07 18:31:12.158 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-07 18:31:12.257 +02:00 [INF] Applying migration '20250805112344_InitialCreate'.
2025-08-07 18:31:12.649 +02:00 [INF] Database faked with default order.
2025-08-07 18:31:12.884 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://[::1]:7191: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-08-07 18:31:27.258 +02:00 [INF] Resetting the database...
2025-08-07 18:31:28.393 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-07 18:31:28.482 +02:00 [INF] Applying migration '20250805112344_InitialCreate'.
2025-08-07 18:31:28.841 +02:00 [INF] Database faked with default order.
2025-08-07 18:31:29.083 +02:00 [INF] Now listening on: https://localhost:7191
2025-08-07 18:31:29.084 +02:00 [INF] Now listening on: http://localhost:5208
2025-08-07 18:31:29.088 +02:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-08-07 18:31:29.172 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-07 18:31:29.172 +02:00 [INF] Hosting environment: Development
2025-08-07 18:31:29.172 +02:00 [INF] Content root path: D:\dev\CodeChallenge.Microservices\Order.Service.Api
2025-08-07 18:31:36.771 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7191/orders - application/json 296
2025-08-07 18:31:36.831 +02:00 [INF] Executing endpoint 'HTTP: POST /orders'
2025-08-07 18:31:36.844 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-08-07 18:31:36.874 +02:00 [INF] Handling CreateOrderCommandRequest
2025-08-07 18:31:37.203 +02:00 [INF] Handled CreateOrderCommandRequest
2025-08-07 18:31:37.205 +02:00 [INF] Setting HTTP status code 201.
2025-08-07 18:31:37.212 +02:00 [INF] Writing value of type 'CreateOrderResponse' as Json.
2025-08-07 18:31:37.217 +02:00 [INF] Executed endpoint 'HTTP: POST /orders'
2025-08-07 18:31:37.221 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7191/orders - 201 null application/json; charset=utf-8 454.6249ms
2025-08-07 18:31:56.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7191/orders/aebdd0cf-8569-4217-b07f-158e9bb3ff9c - null null
2025-08-07 18:31:56.679 +02:00 [INF] Executing endpoint 'HTTP: GET /orders/{orderNumber:guid}'
2025-08-07 18:31:56.686 +02:00 [INF] Handling GetOrderByIdQueryRequest
2025-08-07 18:31:56.912 +02:00 [INF] Handled GetOrderByIdQueryRequest
2025-08-07 18:31:56.912 +02:00 [INF] Setting HTTP status code 200.
2025-08-07 18:31:56.915 +02:00 [INF] Writing value of type 'OrderResponse' as Json.
2025-08-07 18:31:56.917 +02:00 [INF] Executed endpoint 'HTTP: GET /orders/{orderNumber:guid}'
2025-08-07 18:31:56.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7191/orders/aebdd0cf-8569-4217-b07f-158e9bb3ff9c - 200 null application/json; charset=utf-8 241.4369ms
